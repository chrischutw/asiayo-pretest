# Q3

## Question
試想有一項目運行於AWS EC2 機器之上，已確認該服務仍然正常運行中，但由於不明原因導致無法再次透過 SSH 登入確認狀態（已確認排除並非網路異常，亦非防火牆阻擋所導致）。請簡易描述你/妳將如何排查問題，並且讓服務恢復正常運作？考量的細節是什麼？如果可以，請試著回答造成無法登入的可能的肇因為何？

## Answer

1. 先使用 ssh -vvv 看是在哪個階段導致連線失敗
2. 嘗試 AWS SSM / Serial Console 進入系統
3. 檢查 SSH 服務是否有正常運行以及 SSH 是否有配置錯誤，並進行修復
    - Openssl 版本更新，不再接受 rsa 加密的 key 而導致無法登入 -> 修改 ssh_config 加入允許 rsa，或者改用更新的加密方式，更新新的 key 到 VM 上
    - 檢查 .ssh 是否權限正確 -> chmod 700 ~/.ssh && chmod 600 ~/.ssh/authorized_keys




